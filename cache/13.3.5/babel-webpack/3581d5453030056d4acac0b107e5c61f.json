{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport { Todo } from './models/todo.model';\nimport { crear, toggle, editar, borrar, toggleAll, limpiarTodos } from './todo.actions';\nexport const estadoInicial = [new Todo('Salvar al mundo'), new Todo('Vener a thanos'), new Todo('Volverme batman'), new Todo('Ser millonario')];\nexport const _todoReducer = createReducer(estadoInicial, on(crear, (state, {\n  texto\n}) => [...state, new Todo(texto)]), on(limpiarTodos, state => state.filter(todos => !todos.completado)), on(toggleAll, (state, {\n  completado\n}) => state.map(todo => {\n  return Object.assign(Object.assign({}, todo), {\n    completado: completado\n  });\n})), on(borrar, (state, {\n  id\n}) => state.filter(todo => todo.id != id)),\n/* A reducer function that is being called when the 'toggle' action is dispatched. */\non(toggle, (state, {\n  id\n}) => {\n  /* Returning a new array with the 'todo' that has the same id as the id that is passed in the action. */\n  return state.map(todo => {\n    /* Returning a new array with the 'todo' that has the same id as the id that is passed in the\r\n    action.\r\n    retorna una nueva array con el 'todo' que tiene la misma identificación que la identificación que se pasa en la acción.\r\n    */\n    if (todo.id === id) {\n      return Object.assign(Object.assign({}, todo), {\n        completado: !todo.completado\n      });\n    }\n    /* Devolviendo el 'todo' que no se está alternando. */\n    else {\n      return todo;\n    }\n  });\n}), on(editar, (state, {\n  id,\n  texto\n}) => {\n  /* Returning a new array with the 'todo' that has the same id as the id that is passed in the action. */\n  return state.map(todo => {\n    /* Returning a new array with the 'todo' that has the same id as the id that is passed in the\r\n    action.\r\n    retorna una nueva array con el 'todo' que tiene la misma identificación que la identificación que se pasa en la acción.\r\n    */\n    if (todo.id === id) {\n      return Object.assign(Object.assign({}, todo), {\n        texto: texto\n      });\n    }\n    /* Devolviendo el 'todo' que no se está alternando. */\n    else {\n      return todo;\n    }\n  });\n})); // export function todoReducer(state:any, action:any){\n//     return _todoReducer(state,action);\n// }","map":null,"metadata":{},"sourceType":"module"}